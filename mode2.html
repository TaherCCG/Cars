<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Enjoy a fun and educational car counting game! Test your skills by counting cars based on colour, identifying different vehicle types, and recognising car brands. Perfect for children to enhance cognitive abilities while having fun.">
    <meta name="keywords"
        content="car counting game, car game, vehicle game, educational game, kids game, cognitive abilities, mindfulness, mental health">
    <meta name="author" content="Taher Mahmood">
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon/favicon-16x16.png">
    <!-- Bootstrap  5.3.2 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!-- Fontawesome-->
    <script src="https://kit.fontawesome.com/0199d382d0.js" crossorigin="anonymous"></script>
    <!-- Preconnect and preload fonts from Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kode+Mono:wght@400..700&display=swap" rel="stylesheet">
    <!-- CSS Stylesheet -->
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/mode2.css">
    <title>Car Counting Game</title>
</head>

<body class="weather-background"> <!-- Added class to body tag for weather background. -->

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <!-- Header -->
            <header class="mx-auto text-center d-flex">
                <a class="navbar-brand link" href="index.html" aria-label="Go to landing page index.html">
                    <h1 class="m-2 title">CAR COUNTING GAME</h1>
                </a>
            </header>
            <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse " id="navbarSupportedContent">
                <!-- Navigation Links -->
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item px-5">
                        <a onclick="toggleTutorial()" class="nav-link link" aria-label="Open tutorial window">
                            Tutorial
                            <i class="fa-solid fa-school"></i>
                        </a>
                    </li>
                    <li class="nav-item px-5">
                        <a class="nav-link link" data-bs-toggle="modal" data-bs-target="#info-button"
                            aria-label="Open settings modal">
                            Settings
                            <i class="fa-solid fa-warehouse"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Main content -->
    <main>
        <!-- Game Mode Description -->
        <div id="mode2-info" class="container">
            <p class="lead-info">Count cars of specific colours as they pass by on the screen. </p>
        </div>

        <!-- Game Container Section -->
        <section id="game-container" class="container">
            <div id="score-bar">
                <h2>Car Counting Game Mode 2</h2>
                <div class="scoreLife">
                    <div id="level">Level: <span id="levelValue">0</span></div>
                    <div id="life-bar">Life: <span id="lifeValue"> &block; &block; &block; &block; &block;</span></div>
                    <div id="score">Score: <span id="scoreValue">0</span></div>
                </div>
            </div>
            <!-- Road where cars will move -->
            <div id="track">
                <div id="road"></div>
            </div>
            <!-- Car buttons -->
            <div id="car-buttons-container">
                <button id="start-button" class="short-button">Start</button>
                <div id="color-buttons">
                    <button class="color-button" data-color="red" id="red-car-btn">Red</button>
                    <button class="color-button" data-color="blue" id="blue-car-btn">Blue</button>
                    <button class="color-button" data-color="black" id="black-car-btn">Black</button>
                    <button class="color-button" data-color="white" id="white-car-btn">White</button>
                </div>
            </div>
        </section>
        <!-- Overlay backdrop-->
        <div class="blur-overlay"></div>
    </main>
    <!-- Footer -->
    <footer class="container text-center">
        <div class="footer-content">
            <p class="py-2">Â© 2024 Car Counting Game (CCG). Taher Mahmood</p>
        </div>
    </footer>

    <!-- Tutorial -->
    <aside class="tutorial-container container">
        <!-- Tutorial Steps for mode 2 -->
        <div class="step active">
            <h2>Welcome to Car Counting Game Mode 2</h2>
            <p>Follow the steps to learn how to play the game.</p>
            <h3>Rules</h3>
            <ol>
                <li>Count cars of specific colours as they pass by on the screen.</li>
                <li>Click on the buttons to capture the cars based on their colours, before they reach end of the track.
                </li>
                <li>Each time Level increases, the cars speed up.</li>
                <li>The game ends when you miss 5 cars.</li>
                <li>When the game ends. You will be shown your Score and the Level you reached. Try beating your own
                    level next time.</li>
                <li>Option to close button to close the game or go to home page.</li>
            </ol>
            <p>Click on the next button to start the tutorial.</p>
            <div class="d-flex">
                <button onclick="nextStep()" class="btn">Next</button>
                <button onclick="closeTutorial()" class="btn ms-auto">Close</button>
            </div>
        </div>
        <div class="step">
            <h2>Settings</h2>
            <p>In the settings menu, you can toggle music on or of, change volume of background or effects volume.
            <p>The settings will be saved in your browser across different modes.</p>
            <p>Current Weather is the weather at your current location if you have allowed permission for
                geolocation.</p>
            <p>Developer info and social media links are also available in the settings menu.</p>
            <div class="mb-2">
                <img src="assets/images/tutorial/settings-info.png" alt="image of setting modal">
            </div>
            <div class="d-flex">
                <button onclick="prevStep()" class="btn">Previous</button>
                <button onclick="nextStep()" class="btn">Next</button>
                <button onclick="closeTutorial()" class="btn ms-auto">Close</button>
            </div>
        </div>

        <div class="step">
            <h2>Step 1:</h2>
            <p>Click on the Start button to start.</p>
            <div class="mb-2">
                <img src="assets/images/tutorial/mode2-start-button.png" alt="image of game start button">
            </div>
            <div class="d-flex">
                <button onclick="prevStep()" class="btn">Previous</button>
                <button onclick="nextStep()" class="btn">Next</button>
                <button onclick="closeTutorial()" class="btn ms-auto">Close</button>
            </div>
        </div>
        <div class="step">
            <h2>Step 2:</h2>
            <p>Click on the buttons when you see a car on the screen.</p>
            <p>Each button corresponds to a different colour car.</p>
            <div class="mb-2">
                <img src="assets/images/tutorial/mode2-buttons.png" alt="image of game buttons">
            </div>
            <div class="d-flex">
                <button onclick="prevStep()" class="btn">Previous</button>
                <button onclick="nextStep()" class="btn">Next</button>
                <button onclick="closeTutorial()" class="btn ms-auto">Close</button>
            </div>
        </div>

        <div class="step">
            <h2>Step 3:</h2>
            <p>Your Score increases with each car clicked.</p>
            <div class="mb-2">
                <img src="assets/images/tutorial/mode2-scroe.png" alt="image of score count">
            </div>
            <div class="d-flex">
                <button onclick="prevStep()" class="btn">Previous</button>
                <button onclick="nextStep()" class="btn">Next</button>
                <button onclick="closeTutorial()" class="btn ms-auto">Close</button>
            </div>
        </div>
        <div class="step">
            <h2>Step 4:</h2>
            <p>Your Level increases with every 10 cars clicked.</p>
            <p>Each time Level increases, the cars speed up.</p>
            <div class="mb-2">
                <img src="assets/images/tutorial/mode2-level.png" alt="image of level count">
            </div>
            <div class="d-flex">
                <button onclick="prevStep()" class="btn">Previous</button>
                <button onclick="nextStep()" class="btn">Next</button>
                <button onclick="closeTutorial()" class="btn ms-auto">Close</button>
            </div>
        </div>
        <div class="step">
            <h2>Step 5:</h2>
            <p>You have five lives to start with.</p>
            <div class="mb-2">
                <img src="assets/images/tutorial/mode2-life.png" alt="image of full life bar">
            </div>
            <p>When you miss a car, you lose a life.</p>
            <p>When you miss 5 cars, the game ends.</p>
            <div class="mb-2">
                <img src="assets/images/tutorial/mode2-life1.png" alt="image of half life bar">
            </div>
            <div class="d-flex">
                <button onclick="prevStep()" class="btn">Previous</button>
                <button onclick="nextStep()" class="btn">Next</button>
                <button onclick="closeTutorial()" class="btn ms-auto">Close</button>
            </div>
        </div>
        <div class="step">
            <h2>Step 6:</h2>
            <p>When the game ends, it shows you your Score, Level and the number of cars you clicked.</p>
            <p>Click on the close button to close the game or go to home page.</p>
            <div class="mb-2">
                <img src="assets/images/tutorial/mode2-end-game-card.png" alt="image of end game card">
            </div>
            <div class="d-flex">
                <button onclick="prevStep()" class="btn">Previous</button>
                <button onclick="nextStep()" class="btn">Next</button>
                <button onclick="closeTutorial()" class="btn ms-auto">Close</button>
            </div>
        </div>
        <div class="step">
            <h2>Thank You!</h2>
            <p><strong>Enjoy the game and try beating your own highest level.</strong></p>
            <div class="d-flex">
                <button onclick="prevStep()" class="btn">Previous</button>
                <button onclick="closeTutorial()" class="btn ms-auto">Close</button>
            </div>
        </div>
    </aside>

    <!-- Settings and Developer Info Modal -->
    <aside class="modal fade" id="info-button" tabindex="-1" aria-label="Settings and developer info"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <!-- Modal Header -->
                <div class="modal-header container">
                    <h4 class="modal-title" id="info-button-label">Settings</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close Modal button">
                    </button>
                </div>
                <!-- Music Controls -->
                <div class="modal-body container">
                    <h5>Music Controls</h5>
                    <button id="toggleButton" aria-label="Play background music and sound effects sounds">Play
                        Music</button>
                    <div class="music d-flex">
                        <h6>Volume</h6>
                        <input type="range" id="volumeControl" min="0" max="1" step="0.1" value="0.5"
                            aria-label="Volume control for background music">
                    </div>
                    <div class="effects d-flex">
                        <h6>Effects Volume</h6>
                        <input type="range" id="effectsVolumeControl" min="0" max="1" step="0.1" value="0.3"
                            aria-label="Volume control for sound effects">
                    </div>
                    <audio id="backgroundMusic" loop>
                        <source src="assets/sounds/cyberpunk-getaway-car-karl-casey.mp3" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>
                </div>
                <!-- Current location weather details -->
                <div class="modal-body container">
                    <h5>Current Weather</h5>
                    <div class="weather-info">
                        <p id="weather-description"></p>
                    </div>
                </div>
                <!-- About me -->
                <div class="modal-footer container">
                    <div class="modal-footer-about d-block">
                        <h5>Game developed by:</h5>
                        <h6 class="font-title">Taher Mahmood</h6>
                    </div>
                    <!-- Social Media Links -->
                    <div class="modal-footer-content">
                        <a href="https://github.com/TaherCCG" target="_blank"
                            class="btn btn-outline-primary rounded-circle"
                            aria-label="Link to developer Github profile page">
                            <i class="fab fa-github fa-2x"></i></a>
                        <a href="https://www.linkedin.com/in/taher-m/" target="_blank"
                            class="btn btn-outline-primary rounded-circle"
                            aria-label="Link to developer LinkedIn profile page">
                            <i class="fab fa-linkedin fa-2x"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </aside>

    <!-- Game-Over Modal-->
    <aside id="end-game-modal-2" class="modal">
        <div class="modal-dialog">
            <div class="modal-content">
                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="title">Game Over</h4>
                    <button id="close-game-x" type="button" class="btn-close" data-bs-dismiss="modal"
                        aria-label="Close Modal button">
                    </button>
                </div>
                <div class="modal-body container">
                    <!-- End Game statistics  -->
                    <div id="counters">
                        <div class="d-none">Total Cars Passed: <span id="totalPassed">0</span></div>
                        <div>Your Score: <span id="totalClicked">0</span></div>
                        <div class="d-none">Total Cars Not Clicked: <span id="totalNotClicked">0</span></div>
                        <div>You Reached Level: <span id="level-reached">0</span></div>
                        <p>You clicked:</p>
                        <div>Red Cars: <span id="redCount">0</span></div>
                        <div>Blue Cars: <span id="blueCount">0</span></div>
                        <div>Black Cars: <span id="blackCount">0</span></div>
                        <div>White Cars: <span id="whiteCount">0</span></div>
                    </div>
                </div>
                <div class="modal-footer d-flex">
                    <div class="modal-footer-about d-block">
                        <h5>Game developed by:</h5>
                        <h6 class="font-title">Taher Mahmood</h6>
                    </div>
                    <!-- Social Media Links -->
                    <div class="modal-footer-content">
                        <a href="https://github.com/TaherCCG" target="_blank"
                            class="btn btn-outline-primary rounded-circle"
                            aria-label="Link to developer Github profile page">
                            <i class="fab fa-github fa-2x"></i></a>
                        <a href="https://www.linkedin.com/in/taher-m/" target="_blank"
                            class="btn btn-outline-primary rounded-circle"
                            aria-label="Link to developer LinkedIn profile page">
                            <i class="fab fa-linkedin fa-2x"></i></a>
                    </div>
                    <button id="closeGame" class="modal-button mb-2" aria-label="Close this window">Close
                        Window</button>
                    <button id="goToIndex" class="modal-button mb-2" aria-label="Go to home page">Home</button>
                </div>
            </div>
        </div>
    </aside>

    <!-- Small Screen Message -->
    <aside id="small-screen">
        <div class="container small-screen-message py-5">
            <h3 class="text-center title py-3">Car Counting Game</h3>
            <h3 class="text-center mb-2"><strong>Sorry!</strong></h3>
            <p class="text-center">
                "Kindly note that the game is not compatible with mobile or smaller screens. For an optimal experience,
                we suggest playing on a tablet or larger screen."</p>
            <p class="text-center">Minimum size required to play on is 7" Tablets with minimum of 600px width.</p>
            <p class="text-center">We are working on making the game compatible with smaller screens.</p>
            <p class="text-center m2"><em>Thank you for your understanding.</em></p>
        </div>
    </aside>

    <!-- JQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Bootstrap 5.3.2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
        </script>
    <!-- JavaScript file -->
    <script src="assets/scripts/weather.js"></script>
    <script src="assets/scripts/tutorial-feature.js"></script>
    <script src="assets/scripts/sound-feature.js"></script>
    <script src="assets/scripts/mode2.js"></script>
</body>

</html>